<template>

    <div>
        <section class="banner-section">
            <div class="main" id="main">
                <div class="menu-box">
                </div>
                <!--内容-->
                <div class="sub-menu hide" id="sub-menu">
                    <div class="inner-box">
                        <div class="sub-inner-box">
                            <div class="title">手机、配件</div>
                            <div class="sub-row">
                                <span class="bold mr10">手机通讯：</span>
                                <a href="">手机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">手机维修</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">以旧换新</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">手机配件：</span>
                                <a href="">手机壳</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">手机存储卡</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">数据线</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">充电器</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">电池</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">运营商：</span>
                                <a href="">中国联通</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">中国移动</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">中国电信</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">智能设备：</span>
                                <a href="">智能手环</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">智能家居</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">智能手表</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">其他配件</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">娱乐：</span>
                                <a href="">耳机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">音响</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">收音机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">麦克风</a>
                            </div>
                        </div>
                    </div>
                    <div class="inner-box">
                        <div class="sub-inner-box">
                            <div class="title">电脑</div>
                            <div class="sub-row">
                                <span class="bold mr10">电脑：</span>
                                <a href="">笔记本</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">平板</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">一体机</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">电脑配件：</span>
                                <a href="">显示器</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">CPU</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">主板</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">硬盘</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">电源</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">显卡</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">其他配件</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">游戏设备：</span>
                                <a href="">游戏机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">耳机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">游戏软件</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">网络产品：</span>
                                <a href="">路由器</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">网络机顶盒</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">交换机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">存储卡</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">网卡</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">外部产品：</span>
                                <a href="">鼠标</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">键盘</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">U盘</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">移动硬盘</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">鼠标垫</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">电脑清洁</a>
                            </div>
                        </div>
                    </div>
                    <div class="inner-box">
                        <div class="sub-inner-box">
                            <div class="title">家用电器</div>
                            <div class="sub-row">
                                <span class="bold mr10">电视：</span>
                                <a href="">国产品牌</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">韩国品牌</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">欧美品牌</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">空调：</span>
                                <a href="">显示器</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">柜式</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">中央</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">壁挂式</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">冰箱：</span>
                                <a href="">多门</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">对开门</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">三门</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">双门</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">洗衣机：</span>
                                <a href="">滚筒式洗衣机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">迷你洗衣机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">洗烘一体机</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">厨房电器：</span>
                                <a href="">油烟机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">洗碗机</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">燃气灶</a>
                            </div>
                        </div>
                    </div>
                    <div class="inner-box">
                        <div class="sub-inner-box">
                            <div class="title">家具</div>
                            <div class="sub-row">
                                <span class="bold mr10">家纺：</span>
                                <a href="">被子</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">枕头</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">四件套</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">床垫</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">灯具：</span>
                                <a href="">台灯</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">顶灯</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">节能灯</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">应急灯</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">厨具：</span>
                                <a href="">烹饪锅具</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">餐具</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">菜板刀具</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">家装：</span>
                                <a href="">地毯</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">沙发垫套</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">装饰字画</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">照片墙</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">窗帘</a>
                            </div>
                            <div class="sub-row">
                                <span class="bold mr10">生活日用：</span>
                                <a href="">收纳用品</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">浴室用品</a>
                                <span class="ml10 mr10">/</span>
                                <a href="">雨伞雨衣</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 菜单 -->
                <div class="menu-content" id="menu-content">
                    <div class="menu-item" data-index="0">
                        <a href="">
                            <span>手机、配件</span>
                            <i class="icon"></i>
                        </a>
                    </div>
                    <div class="menu-item" data-index="1">
                        <a href="">
                            <span>电脑</span>
                            <i class="icon"></i>
                        </a>
                    </div>
                    <div class="menu-item" data-index="2">
                        <a href="">
                            <span>家用电器</span>
                            <i class="icon"></i>
                        </a>
                    </div>
                    <div class="menu-item" data-index="3">
                        <a href="">
                            <span>家具</span>
                            <i class="icon"></i>
                        </a>
                    </div>
                </div>
                <div class="banner" id="banner">
                    <a href="">
                        <div class="banner-slide slide1 slide-active" style="display: none;"></div>
                    </a>
                    <a href="">
                        <div class="banner-slide slide2" style="display: none;"></div>
                    </a>
                    <a href="">
                        <div class="banner-slide slide3" style="display: block;"></div>
                    </a>
                </div>
                <a href="javascript:void(0)" class="button prev" id="prev"></a>
                <a href="javascript:void(0)" class="button next" id="next"></a>
                <div class="dots" id="dots">
                    <span class="" id="0"></span>
                    <span id="1" class=""></span>
                    <span id="2" class="active"></span>
                </div>
            </div>
        </section><!--banner-section end-->
    </div>

</template>

<script>
    export default {
        name: "banner",
        mounted: function () {
            var timer = null,
                index = 0,
                pics = byId("banner").getElementsByTagName("div"),
                dots = byId("dots").getElementsByTagName("span"),
                size = pics.length,
                prev = byId("prev"),
                next = byId("next"),
                menuItems = byId("menu-content").getElementsByTagName("div"),
                subMenu = byId("sub-menu"),
                subItems = subMenu.getElementsByClassName("inner-box");

            function addHandler(element, type, handler) {
                if (element.addEventListener) {
                    element.addEventListener(type, handler, true);
                }
                else if (element.attachEvent) {
                    element.attachEvent('on' + type, handler);
                }
                else {
                    element['on' + type] = handler;
                }
            }

            function byId(id){
                return typeof(id)==="string"?document.getElementById(id):id;
            }

            // 清除定时器,停止自动播放
            function stopAutoPlay(){
                if(timer){
                    clearInterval(timer);
                }
            }

            // 图片自动轮播
            function startAutoPlay(){
                timer = setInterval(function(){
                    index++;
                    if(index >= size){
                        index = 0;
                    }
                    changeImg();
                },3000)
            }

            function changeImg(){
                for(var i=0,len=dots.length;i<len;i++){
                    dots[i].className = "";
                    pics[i].style.display = "none";
                }
                dots[index].className = "active";
                pics[index].style.display = "block";
            }

            function slideImg(){
                startAutoPlay();
                var main = byId("main");
                var banner = byId("banner");
                var menuContent = byId("menu-content");

                addHandler(main,"mouseover",stopAutoPlay);
                addHandler(main,"mouseout",startAutoPlay);

                // 点击导航切换
                for(var i=0,len=dots.length;i<len;i++){
                    dots[i].id = i;
                    addHandler(dots[i],"click",function(){
                        index = this.id;
                        changeImg();
                    })
                }

                // 下一张
                addHandler(next,"click",function(){
                    index++;
                    if(index>=size) index=0;
                    changeImg();
                })

                // 上一张
                addHandler(prev,"click",function(){
                    index--;
                    if(index<0) index=size-1;
                    changeImg();
                })

                // 菜单
                for(var m=0,mlen=menuItems.length;m<mlen;m++){
                    menuItems[m].setAttribute("data-index",m);
                    addHandler(menuItems[m],"mouseover",function(){
                        subMenu.className = "sub-menu";
                        var idx = this.getAttribute("data-index");
                        for(var j=0,jlen=subItems.length;j<jlen;j++){
                            subItems[j].style.display = 'none';
                            menuItems[j].style.background = "none";
                        }
                        subItems[idx].style.display = "block";
                        menuItems[idx].style.background = "rgba(0,0,0,0.1)";
                    });
                }

                addHandler(subMenu,"mouseover",function(){
                    this.className = "sub-menu";
                });

                addHandler(subMenu,"mouseout",function(){
                    this.className = "sub-menu hide";
                });

                addHandler(banner,"mouseout",function(){
                    subMenu.className = "sub-menu hide";
                });

                addHandler(menuContent,"mouseout",function(){
                    subMenu.className = "sub-menu hide";
                });
            }

            addHandler(window,"load",slideImg);
        }
    }


</script>

<style scoped>
    @import "../static/css/animate.css";
    @import "../static/css/style.css";
    @import "../static/css/color.css";
    @import "../static/css/bootstrap.min.css";
    @import "../static/css/responsive.css";
    @import "../static/css/fontello.css";
    @import "../static/css/fontello-codes.css";
    @import "../static/css/thumbs-embedded.css";
    @import "../static/css/mse.css";
</style>